services:
  ibkr:
    image: ghcr.io/extrange/ibkr:latest
    container_name: ibkr-gateway
    environment:
      - USERNAME=${TWS_USERID}
      - PASSWORD=${TWS_PASSWORD}
      - TRADING_MODE=${TRADING_MODE:-paper}
      - VNC_SERVER_PASSWORD=${VNC_SERVER_PASSWORD:-password}
    ports:
      - "7497:7497"
      - "6080:6080"
    volumes:
      - ./ibkr_config:/root/Jts
    networks:
      - trading-net

networks:
  trading-net:
    external: true
